# 01 constant、immutable、常量

## 测试运行

根据[Foundry官方文档](https://getfoundry.sh/)配置好运行环境后，于本项目下执行下列命令，即可看到实际gas差异对比。

````bash
forge test --contracts 01_Constant/Constant.t.sol --gas-report 
````

----

## 功能简述

1. constant

定义一个常量，需要在部署时进行赋值，且后期不可变更。

2. immutable

定义一个常量，可以在部署时和constructor中进行赋值，且后期不可变更。

3. 常量

定义一个常量，可以在任意环节进行赋值，且后期可以变更。

### DemoCode

````solidity
contract Constant {
    uint256 public constant number = 1000;
    uint public immutable number2 = 1000;
    uint public number3 = 1000;
}
````

╭────────────────────────────────────────────┬─────────────────┬──────┬────────┬──────┬─────────╮
│ 01_Constant/Constant.sol:Constant contract ┆                 ┆      ┆        ┆      ┆         │
╞════════════════════════════════════════════╪═════════════════╪══════╪════════╪══════╪═════════╡
│ Deployment Cost                            ┆ Deployment Size ┆      ┆        ┆      ┆         │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ Function Name                              ┆ min             ┆ avg  ┆ median ┆ max  ┆ # calls │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ varConstant                                ┆ 183             ┆ 183  ┆ 183    ┆ 183  ┆ 1       │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ varImmutable                               ┆ 161             ┆ 161  ┆ 161    ┆ 161  ┆ 1       │
├╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌┼╌╌╌╌╌╌┼╌╌╌╌╌╌╌╌╌┤
│ variable                                   ┆ 2305            ┆ 2305 ┆ 2305   ┆ 2305 ┆ 1       │
╰────────────────────────────────────────────┴─────────────────┴──────┴────────┴──────┴─────────╯
